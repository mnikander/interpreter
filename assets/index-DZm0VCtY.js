(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function a(e){let t=0,r=!0;for(let n=0;n<e.length;n++)e[n]=="("?t++:e[n]==")"&&t--,t<0&&(r=!1);let o=t==0;return r&&o}function d(e){let t="";for(let r=0;r<e.length;r++)e[r]=="("?t+=" ( ":e[r]==")"?t+=" ) ":t+=e[r];return t}function m(e){if(!a(e))return"ERROR: invalid parentheses";let r=d(e).split(" ");r=p(r);const o=r.map(R);let n=o.find(_);if(n!=null)return`ERROR: invalid token '${n.symbol}'`;if(o[0].name=="TK_NUMBER")return o[0].value;if(o[0]==l)if(o[1]==f){if(o[2].name=="TK_NUMBER"&&o[3].name=="TK_NUMBER"&&o[4]==c)return o[2].value+o[3].value}else return"ERROR: no valid operation provided";else return"ERROR: invalid expression"}function p(e){let t=[];for(let r of e)r!=""&&t.push(r);return t}function u(e,t){if(e==t.symbol)return t}function y(e){if(!(e==""||e[0]==" ")){let t=Number(e);return isNaN(t)?void 0:{name:"TK_NUMBER",value:t}}}function R(e){return u(e,l)??u(e,c)??u(e,f)??y(e)??{name:"ERROR",symbol:e}}function _(e){return e.name=="ERROR"}const l={name:"TK_LEFT",symbol:"("},c={name:"TK_RIGHT",symbol:")"},f={name:"TK_ADD",symbol:"+"};function E(){const e=document.getElementById("input"),t=document.getElementById("output"),r=e.value,o=m(r);t.textContent+=`> ${r}
${o}
`}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("input");e==null||e.addEventListener("keydown",t=>{t.key==="Enter"&&(t.preventDefault(),E())})});
