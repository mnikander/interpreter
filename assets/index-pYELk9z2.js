(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function s(t){let e=0,n=!0;for(let r=0;r<t.length;r++)t[r]=="("?e++:t[r]==")"&&e--,e<0&&(n=!1);let i=e==0;return n&&i}function l(t){let e="";for(let n=0;n<t.length;n++)t[n]=="("?e+=" ( ":t[n]==")"?e+=" ) ":e+=t[n];return e}const a=[{name:"TK_LEFT",terminal:"("},{name:"TK_RIGHT",terminal:")"},{name:"TK_ADD",terminal:"+"}];function c(t){if(!s(t))return[{name:"TK_ERROR",value:"invalid parentheses"}];let n=l(t).split(" ");return n=f(n),n.map(p)}function f(t){let e=[];for(let n of t)n!=""&&e.push(n);return e}function m(t){for(const e of a)if(t==e.terminal)return{name:e.name,terminal:e.terminal}}function d(t){if(!(t==""||t[0]==" ")){let e=Number(t);return isNaN(e)?void 0:{name:"TK_NUMBER",value:e}}}function p(t){return m(t)??d(t)??{name:"TK_ERROR",value:t}}function _(t){return t.name=="TK_ERROR"}function R(t){const e=c(t);let n=e.find(_);if(n!=null)return"ERROR: "+(n.value??`invalid symbol ${n.terminal}`);if(e[0].name=="TK_NUMBER")return e[0].value;if(e[0].name=="TK_LEFT")if(e[1].name=="TK_ADD"){if(e[2].name=="TK_NUMBER"&&e[3].name=="TK_NUMBER"&&e[4].name=="TK_RIGHT"&&e[2].value!=null&&e[3].value!=null)return e[2].value+e[3].value}else return"ERROR: no valid operation provided";else return"ERROR: invalid expression";return"ERROR: unknown"}function v(){const t=document.getElementById("input"),e=document.getElementById("output"),n=t.value,i=R(n);e.textContent+=`> ${n}
${i}
`}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("input");t==null||t.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),v())})});
